# Piano Glove Project 🎹🧤

## 目錄
- [Piano Glove Project 🎹🧤](#piano-glove-project-)
  - [目錄](#目錄)
  - [專案簡介](#專案簡介)
  - [系統功能概覽](#系統功能概覽)
  - [專案結構](#專案結構)
  - [執行流程](#執行流程)
  - [開發環境需求](#開發環境需求)
  - [安裝方法](#安裝方法)
  - [目前進度](#目前進度)
  - [目前限制](#目前限制)
  - [未來擴充方向](#未來擴充方向)


---

## 專案簡介
本專案旨在打造一套融合視覺辨識與壓力感測的「鋼琴手套」系統。  
使用者透過手機攝影機追蹤手指位置，搭配PSoC6開發版以及壓力感測數據，完成隨時隨地彈奏虛擬鋼琴。

---

## 系統功能概覽
- 📷 **攝影機追蹤**：即時偵測手指位置（Mediapipe 實作）
- 🖐️ **多指偵測**：支援多指同時追蹤
- 📏 **尺寸校正**：使用者輸入拇指與小指實際距離，自動計算 pixel/cm 比例
- 🎹 **畫面鍵盤映射**：根據螢幕寬度自動分割白鍵與黑鍵區域
- 🎵 **音效播放**：依據手指位置與壓力輸出對應音符

---

## 專案結構
```plaintext
piano_glove_project/
├── src/                   
│   ├── main.py             # 主控制流程
│   ├── calibration.py      # 校正手指長度比例
│   ├── hand_detector.py    # 手部關鍵點偵測（Mediapipe）
│   ├── new_screen_mapper.py# 畫面分割與音符映射
│   ├── new_sound_manager.py# 音效管理模組
│   └── pressure_reader.py  # 透過序列埠讀取壓力資料
├── README.md               # 專案說明文件
```
## 執行流程
1. 啟動程式
2. 🖐️ 使用者輸入拇指～小指實際距離（cm）
3. 📷 攝影機自動抓取 pixel 距離
4. 📏 計算 pixel/cm ➜ 評估畫面實際寬度
5. 🎹 自動建立白鍵與黑鍵的映射位置
6. 🖐️ 偵測手指座標（目前整合食指與壓力感測）
7. 🎵 若手指有按壓且落在特定區域 ➜ 播放對應音符

## 開發環境需求

Python 3.9+
必要套件：
- numpy
- scipy
- opencv-python
- mediapipe
- sounddevice（音效播放）

## 安裝方法
建議使用虛擬環境，並手動安裝必要套件：
```
pip install numpy scipy opencv-python mediapipe sounddevice

```
## 目前進度 

[✅] 攝影機串接（DroidCam）

[✅] 校正系統（拇指～小指距離 ➜ pixel/cm）

[✅] 多指追蹤與壓力感測整合完成

[✅] 根據壓力大小控制音量（音符播放與實體感測器同步）

[✅] 黑鍵視覺標示與音符播放功能

[✅] 和弦支援（多音同時播放）

[✅] 畫面鍵盤映射與視覺渲染（白鍵與黑鍵）


## 目前限制 
（目前暫無重大功能限制）

## 未來擴充方向 
- 🎚️ 使用手勢動作切換八度範圍（Octave）
- 🎵 擴充更多演奏技巧（滑音、抖音等）
- 🎹 開放自由定義音階/調性
- 📱 將系統封裝為行動 App 或 Web UI